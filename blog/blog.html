<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Chris Bawden</title>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->



    <script src="/blog/loader.js"></script>

<script>
(function() {
  function openDetailsForHashTarget() {
    if (!window.location.hash) return;
    const targetId = window.location.hash.slice(1);
    const target = document.getElementById(targetId);
    if (target) {
      // Open all parent <details> elements
      let parent = target.parentElement;
      let opened = false;
      while (parent) {
        if (parent.tagName && parent.tagName.toLowerCase() === "details") {
          parent.open = true;
          opened = true;
        }
        parent = parent.parentElement;
      }
      // Only scroll if a details was opened (prevents double-scroll glitch)
      if (opened) {
        setTimeout(() => target.scrollIntoView({behavior: "smooth", block: "center"}), 100);
      }
    }
  }

  // Run on DOMContentLoaded (may miss if content loads later)
  document.addEventListener("DOMContentLoaded", function() {
    // Try multiple times for dynamic content (like blog posts loaded after page load)
    let tries = 0;
    function tryOpen() {
      openDetailsForHashTarget();
      tries++;
      if (tries < 20 && window.location.hash && !document.getElementById(window.location.hash.slice(1))) {
        setTimeout(tryOpen, 200); // Keep retrying for up to 4 seconds
      }
    }
    tryOpen();
  });

  // Also run when the hash changes (e.g., user clicks an in-page link)
  window.addEventListener("hashchange", openDetailsForHashTarget);
})();
</script>

  </head>

  <body>

    <div class="wrapper">

    <div id="sidebar-placeholder"></div>

    <script>
      fetch('/sidebar.html')
        .then(res => res.text())
        .then(html => {
          const container = document.getElementById('sidebar-placeholder');
          container.innerHTML = html;

          // Hide the link to the current page
          const currentPath = window.location.pathname.replace(/\/index\.html$/, '/');
          const links = container.querySelectorAll('#main-menu a');
          links.forEach(link => {
            const href = link.getAttribute('href').replace(/\/index\.html$/, '/');
            if (href === currentPath) {
              link.style.display = 'none'; // Hides the link
            }
          });
        });
    </script>

    <section id="blog-posts" style="padding-left: 20px;">
      <!-- Blog posts will be dynamically loaded here -->
    </section>

    <footer>
      <p><span>Projects maintained by </span>
        <script>
          var s="=b!isfg>#nbjmup;disjtkcbxefoApvumppl/dpn#?Disjt!Cbxefo=0b?";
          var m="";for(var i=0;i<s.length;i++)m+=String.fromCharCode(s.charCodeAt(i)-1);
          document.write(m);
        </script>
        <noscript>You must enable JavaScript to see this text.</noscript>
      </p>
      <p><small>Hosted with GitHub Pages â€” Link to <a href="https://chrisjbawden.github.io/blog/blog.html#instructions">instructions</a></small></p>
    </footer>
    </div>

    <script src="/javascripts/scale.fix.js"></script>
  </body>
</html>
